---
import type { Testimonial } from '../data/testimonials';

interface Props {
  testimonial: Testimonial;
}

const { testimonial } = Astro.props;
---

<div class="flex flex-col gap-4 p-6 bg-white dark:bg-card-dark rounded-xl border border-gray-100 dark:border-gray-800 shadow-sm testimonial-card-hover transition-all duration-300 h-full group">
  <!-- Star Rating -->
  <div class="flex gap-1 text-yellow-400">
    {Array.from({ length: testimonial.rating }).map((_, index) => (
      <span 
        class="material-symbols-outlined fill-1 text-xl transform transition-transform duration-300 group-hover:scale-110"
        style={`transition-delay: ${index * 50}ms`}
      >
        star
      </span>
    ))}
  </div>
  
  <!-- Quote -->
  <p class="text-text-primary dark:text-gray-200 leading-relaxed italic flex-1">
    "{testimonial.quote}"
  </p>
  
  <!-- Author -->
  <div class="flex items-center gap-3 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700">
    <div 
      class="size-10 rounded-full bg-gray-200 bg-cover bg-center ring-2 ring-transparent group-hover:ring-primary/30 transition-all duration-300 transform group-hover:scale-110"
      style={`background-image: url("${testimonial.image}");`}
    ></div>
    <div>
      <p class="text-sm font-bold text-text-primary dark:text-white group-hover:text-primary transition-colors duration-300">{testimonial.name}</p>
      <p class="text-xs text-gray-500">{testimonial.role}</p>
    </div>
  </div>
</div>
